{"remainingRequest":"/Users/maoyuchi/Documents/Project/my-project/vueVuetify/mao-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maoyuchi/Documents/Project/my-project/vueVuetify/mao-project/src/views/Maincontent.vue?vue&type=style&index=0&id=1dea7754&scoped=true&lang=css&","dependencies":[{"path":"/Users/maoyuchi/Documents/Project/my-project/vueVuetify/mao-project/src/views/Maincontent.vue","mtime":1581756552835},{"path":"/Users/maoyuchi/Documents/Project/my-project/vueVuetify/mao-project/node_modules/css-loader/dist/cjs.js","mtime":1580893065947},{"path":"/Users/maoyuchi/Documents/Project/my-project/vueVuetify/mao-project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1578992369473},{"path":"/Users/maoyuchi/Documents/Project/my-project/vueVuetify/mao-project/node_modules/postcss-loader/src/index.js","mtime":1578969347903},{"path":"/Users/maoyuchi/Documents/Project/my-project/vueVuetify/mao-project/node_modules/vuetify-loader/lib/loader.js","mtime":1580981944674},{"path":"/Users/maoyuchi/Documents/Project/my-project/vueVuetify/mao-project/node_modules/cache-loader/dist/cjs.js","mtime":1580893065449},{"path":"/Users/maoyuchi/Documents/Project/my-project/vueVuetify/mao-project/node_modules/vue-loader/lib/index.js","mtime":1578992369473}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5tYWluLWNvbnRlbnQgewogIGhlaWdodDogYXV0bzsKICBtaW4taGVpZ2h0OiA4MDBweDsKfQoubC1jb250ZW50IHsKICBtaW4td2lkdGg6IDMwJTsKICBtaW4taGVpZ2h0OiAxMDAlOwp9Ci5yLWNvbnRlbnQgewogIG1pbi13aWR0aDogNjAlOwogIG1pbi1oZWlnaHQ6IDEwMCU7Cn0KLmJ0bi1ib3ggewogIG1pbi13aWR0aDogMjUlOwogIG1heC13aWR0aDogNDAwcHg7CiAgbWluLWhlaWdodDogMjAlOwogIGhlaWdodDogYXV0bzsKfQo="},{"version":3,"sources":["Maincontent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Maincontent.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-content class=\"pt-12\">\n    <v-container fluid class=\"d-flex flex-row flex-wrap main-content\">\n      <v-layout class=\"d-flex flex-column grey lighten-4 l-content mr-2\">\n        <v-row class=\"d-flex flex-column\">\n          <v-col>\n            <p class=\"title\">maincontent left content</p>\n            <v-select\n              v-model=\"s_county\"\n              :items=\"county\"\n              hide-details\n              class=\"d-flex ma-2\"\n              label=\"請選擇城市\"\n              @change=\"get_btntext\"\n              outlined\n            >\n            </v-select>\n            <v-col\n              class=\"d-flex flex-row flex-wrap btn-box justify-center pa-3 ma-auto\"\n            >\n              <v-btn\n                v-for=\"(item, index) in siteName\"\n                :key=\"index\"\n                class=\"my-2 mr-2 grey lighten-1\"\n                large\n                @click=\"SitenameSelected(item)\"\n                >{{ item }}\n              </v-btn>\n            </v-col>\n          </v-col>\n        </v-row>\n      </v-layout>\n      <v-layout class=\"d-flex flex-column r-content\">\n        <v-row>\n          <v-col class=\"d-flex flex-column align-center\">\n            <p class=\"headline d-flex justify-center\">臺灣空氣品質指標（AQI)</p>\n            <AQIcard\n              v-if=\"Ifsitename_select\"\n              :AQIdata=\"pass_to_child\"\n              :UVvalue=\"uv_value\"\n            />\n            <p v-if=\"!Ifsitename_select\">暫無資料顯示，請選擇地區</p>\n          </v-col>\n        </v-row>\n      </v-layout>\n    </v-container>\n  </v-content>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport AQIcard from \"../components/AQICard\";\n\nexport default {\n  metaInfo: { \"http-equiv\": \"Access-Control-Allow-Origin\", content: \"*\" },\n  components: {\n    AQIcard\n  },\n  data: () => {\n    return {\n      api_url: [\n        {\n          api_name: \"空氣污染指數AQI\",\n          url: \"http://opendata2.epa.gov.tw/AQI.json\",\n          data: []\n        },\n        {\n          api_name: \"紫外線指數UV\",\n          url:\n            \"https://opendata.cwb.gov.tw/api/v1/rest/datastore/O-A0005-001?Authorization=CWB-1C986D1B-12E7-4AF6-B9FE-B39142B1D1BB&format=JSON\",\n          data: []\n        }\n      ],\n      s_county: \"\",\n      uv_value: \"\",\n      county: [], //都市\n      siteName: [], //鄉村\n      pass_to_child: [],\n      Ifsitename_select: false\n    };\n  },\n  async mounted() {\n    for (let i = 0; i < this.api_url.length; i++) {\n      //console.log(this.api_url[i]);\n      await axios\n        .get(this.api_url[i].url)\n        .then(response => {\n          this.api_url[i].data = response;\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n    //format AQI data\n    this.AQIdataformat();\n    //format UV data\n    this.UVdataformat();\n    //UV API location_decode\n    this.location_decode();\n    //Generate CountyName\n    this.GenerateCountyMenu();\n  },\n  methods: {\n    AQIdataformat() {\n      this.api_url[0].data = this.api_url[0].data.data;\n      //console.log(this.api_url[0].data);\n    },\n    // Use AQI-APi to Generate County menu\n    GenerateCountyMenu() {\n      //var res = this.api_url[0].data;\n      var res = this.api_url[0].data;\n      res.forEach(element => {\n        if (this.county.indexOf(element.County) == -1) {\n          this.county.push(element.County);\n        }\n      });\n    },\n    UVdataformat() {\n      this.api_url[1].data = this.api_url[1].data.data.records.weatherElement.location;\n      //console.log(this.api_url[1].data);\n    },\n    get_btntext() {\n      var res = this.api_url[0].data;\n      this.siteName.length = 0;\n      res.forEach(element => {\n        if (element.County == this.s_county) {\n          if (this.siteName.indexOf(element.SiteName) == -1) {\n            this.siteName.push(element.SiteName);\n          }\n        }\n      });\n    },\n    location_decode() {\n      var res = this.api_url[1].data;\n      res.forEach(element => {\n        switch (element.locationCode) {\n          case \"467480\":\n            element.locationCode = \"嘉義縣\";\n            break;\n          case \"467490\":\n            element.locationCode = \"台中市\";\n            break;\n          case \"467350\":\n            element.locationCode = \"澎湖縣\";\n            break;\n          case \"467080\":\n            element.locationCode = \"宜蘭縣\";\n            break;\n          case \"467110\":\n            element.locationCode = \"金門縣\";\n            break;\n          case \"467650\":\n            element.locationCode = \"南投縣\";\n            break;\n          case \"467660\":\n            element.locationCode = \"台東縣\";\n            break;\n          case \"467620\":\n            element.locationCode = \"新竹市\";\n            break;\n          case \"467050\":\n            element.locationCode = \"桃園市\";\n            break;\n          case \"466940\":\n            element.locationCode = \"基隆市\";\n            break;\n          case \"467610\":\n            element.locationCode = \"台東市\";\n            break;\n          case \"466920\":\n            element.locationCode = \"新北市\";\n            break;\n          case \"467590\":\n            element.locationCode = \"屏東縣\";\n            break;\n          case \"466910\":\n            element.locationCode = \"台北市\";\n            break;\n          case \"467570\":\n            element.locationCode = \"新竹縣\";\n            break;\n          case \"467410\":\n            element.locationCode = \"台南縣\";\n            break;\n          case \"467550\":\n            element.locationCode = \"南投縣\";\n            break;\n          case \"467440\":\n            element.locationCode = \"高雄市\";\n            break;\n          case \"467990\":\n            element.locationCode = \"雲林縣\";\n            break;\n          case \"466990\":\n            element.locationCode = \"花蓮縣\";\n            break;\n          default:\n            element.locationCode = \"location decode error\";\n        }\n        //console.log(element);\n      });\n    },\n    SitenameSelected(btntext) {\n      var res = this.api_url[0].data;\n      res.forEach(element => {\n        if ((this.s_county == element.County) & (btntext == element.SiteName)) {\n          //物件屬性處理 PM2.5 => PM25\n          this.pass_to_child = JSON.stringify(element).replace(\n            /PM2.5/g,\n            \"PM25\"\n          );\n          this.pass_to_child = JSON.parse(this.pass_to_child);\n        }\n      });\n      for (var key in this.pass_to_child) {\n        //console.log(key);\n        if (key == \"O3\" || key == \"PM25\" || key == \"CO\") {\n          if (this.pass_to_child[key] == \"\" || this.pass_to_child[key] == \"-\") {\n            this.pass_to_child[key] = \"1\";\n            this.ifshow = false;\n          }\n        }\n      }\n      this.getUVvalue(this.api_url[1].data);\n      this.Ifsitename_select = true;\n    },\n    getUVvalue(res) {\n      res.forEach(element => {\n        if (this.s_county == element.locationCode) {\n          this.uv_value = element.value.toString();\n          //console.log(this.uv_value);\n          return;\n          //console.log(this.uv_value);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.main-content {\n  height: auto;\n  min-height: 800px;\n}\n.l-content {\n  min-width: 30%;\n  min-height: 100%;\n}\n.r-content {\n  min-width: 60%;\n  min-height: 100%;\n}\n.btn-box {\n  min-width: 25%;\n  max-width: 400px;\n  min-height: 20%;\n  height: auto;\n}\n</style>\n"]}]}